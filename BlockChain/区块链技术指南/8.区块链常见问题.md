## 区块链常见问题

阐述加密火币和区块链领域常见的一些问题，并且结合The DAO项目，分析部分问题的产生原因和应对方法，其中，加密货币部分较多地使用比特币作为典型的例子来说明相关的原理

### 钱包的安全性问题
像比特币这样的加密货币，因为采用无政府的去中心化方式发行，大多数国家都不承认它是合法的货币，在法律上没有偿还性和强制性等货币特点。

加密货币则不同，基本上由持有人自己保管账号的数字信息。在比特币的系统里面，账号是由椭圆曲线数字签名算法（ECDSA）中的公钥，经过哈希变换，再加上校验码而生成一串数字，通常是一个33或34位的Base58编码字符。使用Base58编码字符的原因是尽量减少账号的长度，把大小写的英文字母以及数字（除去容易混淆的数字0、大写O、大写I和小写l）都用来表示数字。这个账号在比特币里称作地址（address），用户接收他人发来的比特币，或者发送比特币给他人，都需要用到这个地址（为方便读者理解，本章将在大多数情况下将账号和地址作为同义词）。所以，比特币里的账号（地址），就像具有门牌号码的信箱，任何人只要知道这个门牌号码，都可以往信箱里面转入比特币。另一方面，信箱的主人有把特殊的钥匙，就是与ECDSA公钥对应的私钥，只有使用这个私钥，才可以打开信箱并取走（花费）存放在里面的比特币。由此可见，私钥就是比特币主人需要自己保管和保密的账号信息。需要指出的是，若忘记了传统银行账号密码，可以找银行重置账号密码，而在比特币体系里面，一旦丢失私钥，则没有办法可以“重置”私钥，将也打不开信箱拿走账号里的比特币，这是比特币无中心化的机制决定的。

钱包就是管理加密货币账号及其交易的软件。钱包软件一般具有良好的操作界面，协助用户方便地完成各种货币交易。

#### 加密货币的交易方式

比特币是最早的加密货币，比特币的早期交易是由人工撮合的OTC方式，通过交易员（中间人）实现买卖双方交换的目的。

#### 匿名性和隐私性
加密货币经常被宣传的优点之一就是匿名性

**CoinJoin方案**

CoinJoin的原理比较简单，就死把不同用户的多个交易合并成一个交易

#### 矿池算力集中的问题
以公共区块链分布式账本为基础的加密货币，如比特币、以太币等，需要靠分布在世界各地的矿工（miner）不停地运作来维持系统功能。所谓矿工，就是运行加密货币软件的计算机节点。矿工们主要完成两种任务，一是计算和校验交易，并生成账本的区块数据，二是矿工之间的计算竞赛，以决定谁的区块为“正选”数据。前者的作用是维护加密货币协议的基本功能，后者对账本数据本身没有意义，但可以激励矿工们继续挖矿来获取更多的货币收益。比特币是最早把这两种任务巧妙结合起来的系统，使得挖矿（币）和记账成为不可分割整体，矿工在努力挖矿的同时也完成了账本区块数据的生成工作。

早期的矿工由一些技术爱好者组成，他们提供机器用于分布式记账。到了后期，挖矿已经发展成为一种职业，组成了专门从事挖矿的团队。由于挖矿得到的货币数量和机器的运算能力大小成正比，因此从概率上看，采用越快速的硬件，在所有矿工中算力的占比越高，就能够获得越多的货币。矿工们为了获得更高的收益，彼此之间在算力上进行较量，算力低的矿工会因挖不到币而逐渐被淘汰出局。从参与的硬件上看，最开始矿工们采用通用的CPU（中央处理器）来挖矿。后来大家发现GPU（图形处理器）能够提高并行计算能力和吞吐量，效率更高，于是纷纷采用GPU挖矿。再后来，出现了专门为挖矿设计的集成电路（Application Specif ic Integrated Circuit, ASIC）芯片，目前已经成为挖矿行业主流的硬件设备。

随着全网算力的不断增加，单打独斗的小矿工已经没有规模优势，挖到加密货币的时间非常不确定，运气不好的话可能要几年才能挖到一个有效区块，有点像买彩票中奖一样[插图]。为了使收入更加平稳，矿工们可以组成矿池（Mining Pool），由矿池管理者统一分派挖矿的计算任务，挖到的币都归矿池管理者所有。矿池管理者根据各个矿工贡献的算力比例，定期分配挖矿的收入。矿池已经成为加密货币区块链网络算力的主要来源，零散的矿工由于经济上不占优势，基本上已退出了挖矿的行列。

矿池能够给矿工带来相对稳定的收入，但是也带来了新的问题。矿池把原来分散的算力集中起来统一管理，这违背了区块链的去中心化原则，在矿池规模不断增加的过程中，有的矿池在全网的算力达到了相当大的比例，甚至排前几位的矿池的算力总和可以超过全网的51%。

实际上比特币等加密货币的PoW共识算法，因其具有一定的随机性，有时也称作彩票算法

#### 51%攻击问题
矿池算力集中产生51%攻击问题，准确来说，应当是50%+问题，从原理上看，只要能控制全网50%以上算力，攻击者将可以修改账本和阻止他人挖矿，从而威胁到这个系统安全。

### 去中心化的自治组织

去中心化的自治组织DAO是随着数字加密货币和区块链技术的普及而流行起来的概念。

**The DAO项目**
The DAO是由Slock.it公司发起的一个众筹项目。Slock.it原先计划通过物联网和区块链技术，提供智能锁等设备，把人们之间的租赁关系用去中心化的方式建立起来。

#### 软分叉和硬分叉的影响

#### 重放攻击

